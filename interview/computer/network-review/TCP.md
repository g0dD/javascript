## TCP 协议如何保证可靠传输

应用数据被分割成 TCP 认为最适合发送的数据块。
TCP 给发送的每一个包进行编号，接收方对数据包进行排序，把有序数据传送给应用层。

#### 校验和：
  发送的数据包的二进制相加然后取反，目的是检测数据在传输过程中的任何变化。如果收到段的检验和有差错，TCP 将丢弃这个报文段和不确认收到此报文段。
#### 确认应答+序列号（累计确认+seq）：

接收方收到报文就会确认（累积确认：对所有按序接收的数据的确认）

TCP 给发送的每一个包进行编号，接收方对数据包进行排序，把有序数据传送给应用层。

#### 超时重传：

当 TCP 发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段。

#### 流量控制：

TCP 连接的每一方都有固定大小的缓冲空间，TCP 的接收端只允许发送端发送接收端缓冲区能接纳的数据。当接收方来不及处理发送方的数据，能提示发送方降低发送的速率，防止包丢失。TCP 使用的流量控制协议是可变大小的滑动窗口协议。

接收方有即时窗口（滑动窗口），随 ACK 报文发送

#### 拥塞控制：

当网络拥塞时，减少数据的发送。

发送方有拥塞窗口，发送数据前比对接收方发过来的即使窗口，取小

慢启动、拥塞避免、拥塞发送、快速恢复

应用数据被分割成 TCP 认为最适合发送的数据块。

TCP 的接收端会丢弃重复的数据。


#### 滑动窗口
所谓滑动窗口，可以理解成接收端所能提供的缓冲区大小

[referer](https://www.cnblogs.com/xiaokang01/p/10033267.html)
