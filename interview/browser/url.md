## 从 url 输入页面到页面展示

DNS 解析
TCP 连接(三次握手)
HTTP 请求
服务器处理请求并返回报文
浏览器解析
断开连接(四次挥手)


#### url 编码规则

1.网址路径的编码，用的是utf-8编码
2.查询字符串是中文的情况下会采用GB2312发送
3.GET和POST方法的编码，用的是网页的HTML源码编码
4.Ajax调用的URL包含汉字也就是说由Javascript生成HTTP请求各浏览器不同处理

#### 解析ip
首先会从浏览器缓存中查找DNS缓存记录
如果找不到就会在本地操作系统中找hosts文件看看里面有没有
网络通过路由器看看有没有DNS缓存
都没有就发送请求给本地DNS服务器进行递归查询
本地DNS 服务器没有就发送请求给根服务器(开始迭代查询)
根服务器不会给 ip 地址而是给对应的域服务器的地址
域服务器返回域名解析器的地址
DNS 服务器向解析器发送请求,并获得域名和 ip 地址的映射关系,并做缓存处理

#### TCP 三次握手
客户端发送一个带 SYN=1，Seq=X 的数据包到服务器端口（第一次握手，由浏览器发起，告诉服务器我要发送请求了）
服务器发回一个带 SYN=1， ACK=X+1， Seq=Y 的响应包以示传达确认信息（第二次握手，由服务器发起，告诉浏览器我准备接受了，你赶紧发送吧）
客户端再回传一个带 ACK=Y+1， Seq=Z 的数据包，代表“握手结束”（第三次握手，由浏览器发送，告诉服务器，我马上就发了，准备接受吧）

#### 发送 HTTP 请求
请求报文由请求行（request line）、请求头（header）、请求体三个部分组成

#### HTTP 缓存(由浏览器执行)
强缓存如果生效,那么不再和服务器发生交互.
对比缓存不管生不生效,都需要跟服务器发生交互.
也就是说强缓存可以不发请求,而对比缓存都得发请求.
跟强缓存相关的 API 有 Expires 和 Cache-Control等,跟对比缓存相关的有 Etag等,两种缓存可以同时存在,但是优先级是强缓存更高.

#### 服务器返回报文

#### TCP 连接:四次挥手

####
两者的不同之处在于encodeURI()更着眼于整个URL 的编码,而encodeURIComponent()适合给参数编码,就范围而言encodeURIComponent更宽广